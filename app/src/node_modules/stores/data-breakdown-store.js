var Fluxxor = require("fluxxor");
var actions = require("actions");
var filter  = require('lodash.filter');
var where   = require('lodash.where');


var DataBreakdownStore = Fluxxor.createStore({
  initialize: function(options) {
    this.data = options.data
    // this.selected = []

    // this.bindActions(
    //   actions.constants.Age.SELECT, this.handleSelectAge

    //   // actions.constants.EMPLOYMENT.LOAD, this.handleLoad,
    //   // actions.constants.EMPLOYMENT.LOAD_SUCCESS, this.handleLoadSuccess,
    //   // actions.constants.EMPLOYMENT.LOAD_FAIL, this.handleLoadFail
    // );
  },


  query: function (match) {
    //TODO more query methods
    if (!match) return  this.data
    return where(this.data, match)
  }

  //NOTE: methods used if routeStore waitsFor for DataBreakdownStore to update

  // getState: function () {
  //   return {
  //     selected: this.selected
  //   }
  // },

  // handleSelectAge: function (payload) {
  //   this.selected = where(this.data, { id: payload.Age })
  // }


});

module.exports = DataBreakdownStore;
