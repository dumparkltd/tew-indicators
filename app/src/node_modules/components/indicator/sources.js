//main
var React       = require('react')

//helpers
var _           = require('lodash')

//logging
var log         = require('debug')('components:indicator:sources')

module.exports = React.createClass({

  propTypes : {
    datasets    : React.PropTypes.array.isRequired, // datasets/timesteps
  },


  render: function () {
    log('props', this.props)
    var sourceTitle =this.props.datasets.length === 1 ? 'Source' : 'Sources'
    return (
       <div className='sources'>
       <h6>{this.props.datasets.length === 1 ? 'Source' : 'Sources'}</h6>
        {
        _.map(this.props.datasets, function (dataset) {
          return (
               <div className='source'>
                <div className='dataset-title'>{dataset.title}</div>
                <div className='dataset-publisher'>
                  {dataset.publisher}                  
                </div>
                <div className='dataset-date'>
                  ({dataset.observationdate.getFullYear()})
                </div>
               </div>
          )
        })
      }
      </div>
    )


  }


})
