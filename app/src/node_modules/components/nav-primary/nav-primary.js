var React         = require('react')
var Fluxxor       = require('fluxxor')

//helpers
var _         = require('lodash')

var log       = require('debug')('src:components:intro')


module.exports = React.createClass({
  mixins: [
    Fluxxor.FluxMixin(React)
  ],
   

  render: function () {   
    
    return (
      <div className='nav-primary'>
        <div className='container'>
          <div className='row'>
            <div className='col-md-2'>
              <div>{this.props.label.top}</div>
              <div>{this.props.label.bottom}</div>
            </div>
            <div className='col-md-10'>          
              <ul className="list-inline">
                {
                  this.props.items.map(function (item) {
                    return (
                      <li>
                        <button 
                            className={'btn btn-primary ' + (item.active ? 'active' : '')} 
                            onClick={this.handleItemClick(item.slug)}>
                          <span className={'icon-'+ item.slug}></span>
                          <div>{item.title}</div>
                          <div>{item.subtitle}</div>
                        </button>
                      </li>  
                    )
                  }.bind(this))
                }        
              </ul>
            </div>
          </div>
        </div>
      </div>
    )
  },

  handleItemClick: function (slug) {
    return function (e) {
      this.getFlux().actions[this.props.type].select(slug)
    }.bind(this)
  }
})
