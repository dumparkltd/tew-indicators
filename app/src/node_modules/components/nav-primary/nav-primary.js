var React         = require('react')
var Fluxxor       = require('fluxxor')

//helpers
var _         = require('lodash')

var log       = require('debug')('src:components:intro')

var Grid 				= require('react-bootstrap/lib/Grid')
var Row 				= require('react-bootstrap/lib/Row')
var Col 				= require('react-bootstrap/lib/Col')

module.exports = React.createClass({
  mixins: [
    Fluxxor.FluxMixin(React)
  ],
   

  render: function () {   
    
    return (
      <div className='nav-primary'>
        <Grid>
          <Row>
            <Col md={2}>
              <div>{this.props.label.top}</div>
              <div>{this.props.label.bottom}</div>
            </Col>
            <Col md={10}>          
              <ul className="list-inline">
                {
                  this.props.items.map(function (item) {
                    return (
                      <li>
                        <button 
                            className={'btn btn-primary ' + (item.active ? 'active' : '')} 
                            onClick={this.handleItemClick(item.slug)}>
                          <span className={'icon-'+ item.slug}></span>
                          <div>{item.title}</div>
                          <div>{item.subtitle}</div>
                        </button>
                      </li>  
                    )
                  }.bind(this))
                }        
              </ul>
            </Col>
          </Row>
        </Grid>
      </div>
    )
  },

  handleItemClick: function (slug) {
    return function (e) {
      this.getFlux().actions[this.props.type].select(slug)
    }.bind(this)
  }
})
