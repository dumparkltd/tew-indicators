//main
var React       = require('react')

//helpers
var _ 					= require('lodash')

var Grid            = require('react-bootstrap/lib/Grid')
var Nav             = require('react-bootstrap/lib/Nav')
var Navbar          = require('react-bootstrap/lib/Navbar')
var NavItem 				= require('react-bootstrap/lib/NavItem')


//logging
var log       	= require('debug')('components:header')

var Brand = (
  <div className='header-logo'>
    <a className="icon-hrc-logo-sm " href="http://hrc.co.nz" target="_blank"></a>
  </div>
)


module.exports = React.createClass({
  render: function () {
		log('props', this.props)


      var title = (
        (this.props.showTitle) ?
      <NavItem className='title' onClick={this.handleNavClick('home')} >
        <h3>{this.props.title}</h3>
        <p>{this.props.subtitle}</p>
      </NavItem>
          : null
      )

		return (
			<Navbar className='navbar-tew' brand={Brand}>
        <Nav>
          {title}
        </Nav>
        <Nav right>
          <NavItem href='#' onClick={this.handleNavClick('about')}>About</NavItem>
          <NavItem href='#' onClick={this.handleNavClick('home')}>Share</NavItem>
        </Nav>
      </Navbar>

    )
  },

  handleNavClick: function (page) {
    var flux = this.props.flux

    return function (e) {
      e.preventDefault()
      flux.actions.navPage(page)
    }
  }


})
