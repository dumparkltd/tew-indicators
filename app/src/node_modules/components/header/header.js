//main
var React       = require('react')

//helpers
var _ 					= require('lodash')

var Grid            = require('react-bootstrap/lib/Grid')
var Nav             = require('react-bootstrap/lib/Nav')
var NavItem 				= require('react-bootstrap/lib/NavItem')


//logging
var log       	= require('debug')('components:header')

module.exports = React.createClass({


  render: function () {
		log('props', this.props)
      var brand = <a href="http://hrc.co.nz" target="_blank">HRC</a>
      
      var title = (
        (this.props.showTitle) 
          ? <a className="navbar-brand navbar-brand-secondary" href="#" onClick={this.handleNavClick('home')}>{this.props.title}</a>
          : ''
      )
   
		return (
			<nav role="navigation" className="navbar navbar-default navbar-inverse">      
        <Grid>
          <div className="navbar-header">
            <a className="navbar-brand" href="http://hrc.co.nz" target="_blank">HRC</a>
            { (this.props.showTitle) ? 
              <a className="navbar-brand" href="#" onClick={this.handleNavClick('home')}>{this.props.title}</a>
              : ""
            } 
          </div>
          <Nav navbar right>
            <NavItem href='#' onClick={this.handleNavClick('home')}>About</NavItem>
            <NavItem href='#' onClick={this.handleNavClick('home')}>Share</NavItem>
          </Nav>
        </Grid>
      </nav>
    )
  },

  handleNavClick: function (page) {
    var flux = this.props.flux

    return function (e) {
      e.preventDefault()
      flux.actions.navPage(page)
    }
  }


})
