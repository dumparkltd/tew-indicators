var React         = require('react')

//helpers
var _         = require('lodash')

var log       = require('debug')('src:components:nav-carousel')



module.exports = React.createClass({

  propTypes: {
    nextSlug: React.PropTypes.string,
    previousSlug: React.PropTypes.string,
    indicatorSlug: React.PropTypes.string,
    flux: React.PropTypes.object
  },

  render: function () {
    log('props', this.props)

    //display table
      //display table row
        //display table cell

    return (
      <div className="hrc-nav-carousel pull-right">
        <div className="hrc-nav-carousel-labels hrc-nav-carousel-row">
          <div >
            <div onClick={this.handleIndicatorClick(this.props.previousSlug)} className="small hrc-nav-carousel-label previous">Previous</div>
          </div>
          <div >
            <div onClick={this.handleIndicatorClick(this.props.nextSlug)} className="small hrc-nav-carousel-label">Next</div>
          </div>
          <div >
            <div onClick={this.handleIssueClick(this.props.issueSlug)} className="small hrc-nav-carousel-label">Back</div>
          </div>
        </div>
        <div className="hrc-nav-carousel-icons hrc-nav-carousel-row">
          <div >
            <div onClick={this.handleIndicatorClick(this.props.previousSlug)} className="icon-previous hrc-nav-carousel-cell"><div className='divider-right'></div></div>
          </div>
          <div >
            <div onClick={this.handleIndicatorClick(this.props.nextSlug)} className="icon-next hrc-nav-carousel-cell"></div>
          </div>
          <div >
            <div onClick={this.handleIssueClick(this.props.issueSlug)} className="icon-close hrc-nav-carousel-cell"></div>
          </div>
        </div>
      </div>


    )
  },

  handleIssueClick: function (issueSlug) {
    log('init', issueSlug)
    var self = this
    return function (e) {
      log(e)
      self.props.flux.actions.issue.select(issueSlug)
    }
  },

  handleIndicatorClick: function (indicatorSlug) {
    log('init', indicatorSlug)
    var self = this
    return function (e) {
      log(e)
      self.props.flux.actions.indicator.select(indicatorSlug)
    }
  }


})
