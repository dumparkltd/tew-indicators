var React         = require('react')
var Fluxxor       = require('fluxxor')
var FluxMixin     = Fluxxor.FluxMixin(React)
var Router        = require('react-router')

var RouteHandler  = Router.RouteHandler

//helpers
var pluck         = require('lodash.pluck')
var where         = require('lodash.where')
var find          = require('lodash.find')
var result        = require('lodash.result')

var log       = require('debug')('src:components:intro')


module.exports = React.createClass({

  propTypes: {
    flux: React.PropTypes.object
  },

  render: function () {

    log('props', this.props)

    return (
      <div className='intro'>
        <h1> Tracking Equality at Work </h1>
        <p> As an evidence base for monitoring progress on of disadvantaged groups.. </p>
        <h2> Focus Areas  </h2>
        <div className='employment image'>
          <button onClick={this.handleIssueClick('employment')}>
            Employment
          </button>
        </div>
        <div className='discrimination image'  >
          <button onClick={this.handleIssueClick('discrimination')}>
            Discrimination
          </button>
        </div>
        <div className='pay image'  >
          <button onClick={this.handleIssueClick('pay-gap')}>
            Pay Gap
          </button>
        </div>
        <div className='leadership image'  >
          <button onClick={this.handleIssueClick('leadership')}>
            Leadership
          </button>
        </div>
      </div>
    )
  },

  handleIssueClick: function (issue) {
    return function (e) {
      var router = this.props.flux.store('routes')
      var route = '/'+ issue

      router.handleRouteTransition({ route: route })
    }.bind(this)
  }

})
